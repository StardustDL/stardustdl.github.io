<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="概述  框架代码库 CPU 架构：x64 操作系统: GNU/Linux 编译器: GCC 编程语言：C 语言  Nanos-lite是南京大学操作系统Nanos的裁剪版。可运行在 x86-nemu 的 AM 上。
框架代码结构 nanos-lite/ # NANOS-LITE 项目 include/ # 头文件 src/ # 源文件 device.c # 设备抽象 fs.c # 文件系统 files.h # ramdisk 中的文件描述 initrd.S # ramdisk设备 irq.c # 中断异常处理 loader.c # 加载器 main.c # 主程序 mm.c # 存储管理 proc.c # 进程调度 ramdisk.c # ramdisk驱动程序 syscall.c # 系统调用处理 syscall.h # 系统调用相关宏 Makefile navy-apps/ nemu/ nexus-am/ include/ common."><title>NJU ICS Programming Assignment 代码分析 - NANOS-LITE</title><link rel=canonical href=https://stardustdl.github.io/posts/learning/nju-icspa-analytics-nanos-lite/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="NJU ICS Programming Assignment 代码分析 - NANOS-LITE"><meta property="og:description" content="概述  框架代码库 CPU 架构：x64 操作系统: GNU/Linux 编译器: GCC 编程语言：C 语言  Nanos-lite是南京大学操作系统Nanos的裁剪版。可运行在 x86-nemu 的 AM 上。
框架代码结构 nanos-lite/ # NANOS-LITE 项目 include/ # 头文件 src/ # 源文件 device.c # 设备抽象 fs.c # 文件系统 files.h # ramdisk 中的文件描述 initrd.S # ramdisk设备 irq.c # 中断异常处理 loader.c # 加载器 main.c # 主程序 mm.c # 存储管理 proc.c # 进程调度 ramdisk.c # ramdisk驱动程序 syscall.c # 系统调用处理 syscall.h # 系统调用相关宏 Makefile navy-apps/ nemu/ nexus-am/ include/ common."><meta property="og:url" content="https://stardustdl.github.io/posts/learning/nju-icspa-analytics-nanos-lite/"><meta property="og:site_name" content="StardustDL's Blog"><meta property="og:type" content="article"><meta property="article:section" content="Posts"><meta property="article:tag" content="NJU"><meta property="article:published_time" content="2018-11-05T17:30:22+08:00"><meta property="article:modified_time" content="2018-11-05T17:30:22+08:00"><meta name=twitter:title content="NJU ICS Programming Assignment 代码分析 - NANOS-LITE"><meta name=twitter:description content="概述  框架代码库 CPU 架构：x64 操作系统: GNU/Linux 编译器: GCC 编程语言：C 语言  Nanos-lite是南京大学操作系统Nanos的裁剪版。可运行在 x86-nemu 的 AM 上。
框架代码结构 nanos-lite/ # NANOS-LITE 项目 include/ # 头文件 src/ # 源文件 device.c # 设备抽象 fs.c # 文件系统 files.h # ramdisk 中的文件描述 initrd.S # ramdisk设备 irq.c # 中断异常处理 loader.c # 加载器 main.c # 主程序 mm.c # 存储管理 proc.c # 进程调度 ramdisk.c # ramdisk驱动程序 syscall.c # 系统调用处理 syscall.h # 系统调用相关宏 Makefile navy-apps/ nemu/ nexus-am/ include/ common."><link rel="shortcut icon" href=/favicon.png><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-111573521-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="article-page keep-sidebar"><script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.body.dataset.scheme='dark':document.body.dataset.scheme='light'})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><img src=/assets/images/avatar_hu55fbf1db337484ccbc1a7220a4594f60_220509_300x0_resize_box_2.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
<span class=emoji>🍥</span></figure><h1 class=site-name><a href=https://stardustdl.github.io/>StardustDL's Blog</a></h1><h2 class=site-description></h2></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/about><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About</span></a></li><li><a href=/archives><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/learning/>Learning</a></header><h2 class=article-title><a href=/posts/learning/nju-icspa-analytics-nanos-lite/>NJU ICS Programming Assignment 代码分析 - NANOS-LITE</a></h2><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>Nov 05, 2018</time></footer></div></header><section class=article-content><h1 id=概述>概述</h1><ul><li><a class=link href=https://github.com/NJU-ProjectN/nanos-lite target=_blank rel=noopener>框架代码库</a></li><li>CPU 架构：x64</li><li>操作系统: GNU/Linux</li><li>编译器: GCC</li><li>编程语言：C 语言</li></ul><p>Nanos-lite是南京大学操作系统Nanos的裁剪版。可运行在 x86-nemu 的 AM 上。</p><h2 id=框架代码结构>框架代码结构</h2><pre><code>nanos-lite/                 # NANOS-LITE 项目
    include/                # 头文件
    src/                    # 源文件
        device.c            # 设备抽象
        fs.c                # 文件系统
        files.h             # ramdisk 中的文件描述
        initrd.S            # ramdisk设备
        irq.c               # 中断异常处理
        loader.c            # 加载器
        main.c              # 主程序
        mm.c                # 存储管理
        proc.c              # 进程调度
        ramdisk.c           # ramdisk驱动程序
        syscall.c           # 系统调用处理
        syscall.h           # 系统调用相关宏
    Makefile
navy-apps/
nemu/
nexus-am/
</code></pre><h1 id=include>include/</h1><h2 id=commonh>common.h</h2><p>引用 AM 中的 <code>am.h klib.h</code>。</p><h2 id=debugh>debug.h</h2><p>简化调试输出的宏，可类比 <code>nemu/debug.h</code>。</p><h2 id=fsh>fs.h</h2><p>文件系统的相关内容。</p><p>LSEEK 类型枚举：</p><table><thead><tr><th>枚举</th><th>描述</th></tr></thead><tbody><tr><td><code>SEEK_SET</code></td><td>将文件流位置设置为指定值</td></tr><tr><td><code>SEEK_CUR</code></td><td>将文件流位置设置为当前位置向后偏移指定值</td></tr><tr><td><code>SEEK_END</code></td><td>将文件流位置设置文件末尾</td></tr></tbody></table><p>文件系统操作函数：</p><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td><code>fs_open</code></td><td>打开文件，返回 ID</td></tr><tr><td><code>fs_read</code></td><td>读取文件</td></tr><tr><td><code>fs_write</code></td><td>写入文件</td></tr><tr><td><code>fs_lseek</code></td><td>改变文件流位置</td></tr><tr><td><code>fs_close</code></td><td>关闭文件</td></tr><tr><td><code>fs_filesz</code></td><td>获取文件大小</td></tr></tbody></table><h1 id=src>src/</h1><h2 id=mainc>main.c</h2><p>NANOS-LITE 主程序。</p><ul><li>初始化存储 （<code>init_mm</code>）</li><li>初始化镜像文件 （<code>init_ramdisk</code>）</li><li>初始化设备 （<code>init_device</code>）</li><li>初始化中断处理 （<code>init_irq</code>）</li><li>初始化文件系统 （<code>init_fs</code>）</li><li>初始化进程 （<code>init_proc</code>）<ul><li>从 <code>ramdist</code> 中加载程序镜像到指定位置</li><li>启动进程</li></ul></li><li>测试自陷事件（<code>_yield</code>）</li></ul><h2 id=ramdiskc>ramdisk.c</h2><p>变量 <code>ramdisk_start,ramdisk_end</code> 指示 ramdisk 所在的内存区间。
宏 <code>RAMDISK_SIZE</code> 指示 ramdisk 对应内存大小。</p><p>ramdisk 相关操作函数。</p><div class=highlight><pre class=chroma><code class=language-c data-lang=c><span class=c1>// 初始化 ramdisk
</span><span class=c1></span><span class=kt>void</span> <span class=nf>init_ramdisk</span><span class=p>();</span>

<span class=c1>// 从ramdisk中 offset 偏移处的 len 字节读入到 buf 中
</span><span class=c1></span><span class=n>size_t</span> <span class=nf>ramdisk_read</span><span class=p>(</span><span class=kt>void</span> <span class=o>*</span><span class=n>buf</span><span class=p>,</span> <span class=n>size_t</span> <span class=n>offset</span><span class=p>,</span> <span class=n>size_t</span> <span class=n>len</span><span class=p>);</span>

<span class=c1>// 把 buf 中的 len 字节写入到ramdisk中 offset 偏移处
</span><span class=c1></span><span class=n>size_t</span> <span class=nf>ramdisk_write</span><span class=p>(</span><span class=k>const</span> <span class=kt>void</span> <span class=o>*</span><span class=n>buf</span><span class=p>,</span> <span class=n>size_t</span> <span class=n>offset</span><span class=p>,</span> <span class=n>size_t</span> <span class=n>len</span><span class=p>);</span>

<span class=c1>// 返回ramdisk的大小, 单位为字节
</span><span class=c1></span><span class=n>size_t</span> <span class=nf>get_ramdisk_size</span><span class=p>();</span>
</code></pre></div><h2 id=fsc>fs.c</h2><p>文件系统相关。实现了 <code>fs.h</code> 中定义的函数。</p><ul><li><p><code>init_fs</code> 初始化文件系统</p><ul><li>初始化 <code>FD_FB</code> 文件的大小（根据 VGA 屏幕大小）</li></ul></li><li><p><code>ReadFn</code> 类型：VFS 通用文件读取函数类型</p></li><li><p><code>WriteFn</code> 类型：VFS 通用文件写入函数类型</p></li></ul><div class=highlight><pre class=chroma><code class=language-c data-lang=c><span class=k>typedef</span> <span class=nf>size_t</span> <span class=p>(</span><span class=o>*</span><span class=n>ReadFn</span><span class=p>)</span> <span class=p>(</span><span class=kt>void</span> <span class=o>*</span><span class=n>buf</span><span class=p>,</span> <span class=n>size_t</span> <span class=n>offset</span><span class=p>,</span> <span class=n>size_t</span> <span class=n>len</span><span class=p>);</span>
<span class=k>typedef</span> <span class=nf>size_t</span> <span class=p>(</span><span class=o>*</span><span class=n>WriteFn</span><span class=p>)</span> <span class=p>(</span><span class=k>const</span> <span class=kt>void</span> <span class=o>*</span><span class=n>buf</span><span class=p>,</span> <span class=n>size_t</span> <span class=n>offset</span><span class=p>,</span> <span class=n>size_t</span> <span class=n>len</span><span class=p>);</span>
</code></pre></div><p>用于禁用文件读写的函数：</p><ul><li><code>invalid_read</code> 非法读取</li><li><code>invalid_write</code> 非法写入</li></ul><h3 id=枚举>枚举</h3><p>特殊文件类型枚举。</p><table><thead><tr><th>枚举</th><th>描述</th></tr></thead><tbody><tr><td><code>FD_STDIN</code></td><td>标准输入</td></tr><tr><td><code>FD_STDOUT</code></td><td>标准输出</td></tr><tr><td><code>FD_STDERR</code></td><td>标准错误输出</td></tr><tr><td><code>FD_FB</code></td><td>显存</td></tr></tbody></table><h3 id=结构体-finfo>结构体 Finfo</h3><p>文件描述信息。</p><table><thead><tr><th>成员</th><th>描述</th></tr></thead><tbody><tr><td><code>name</code></td><td>文件名</td></tr><tr><td><code>size</code></td><td>文件大小</td></tr><tr><td><code>dist_offset</code></td><td>在 ramdisk 中的地址偏移</td></tr><tr><td><code>open_offset</code></td><td>文件流位置</td></tr><tr><td><code>read</code></td><td>读取函数</td></tr><tr><td><code>write</code></td><td>写入函数</td></tr></tbody></table><ul><li><code>file_table</code> 保存了所有文件信息<ul><li><code>files.h</code> 定义了在 ramdisk 中的文件</li></ul></li><li><code>NR_FILES</code> 文件总数</li></ul><p>特殊文件：</p><table><thead><tr><th>文件名</th><th>描述</th></tr></thead><tbody><tr><td><code>stdin</code></td><td>标准输入</td></tr><tr><td><code>stdout</code></td><td>标准输出</td></tr><tr><td><code>stderr</code></td><td>标准错误输出</td></tr><tr><td><code>/dev/fb</code></td><td>显存</td></tr><tr><td><code>/proc/dispinfo</code></td><td>显示器信息</td></tr><tr><td><code>/dev/events</code></td><td>事件，包含时钟和键盘信号</td></tr></tbody></table><h2 id=devicec>device.c</h2><p>将设备抽象成文件的实现。</p><ul><li><code>init_device</code> 初始化设备<ul><li>调用 <code>_ioe_init()</code> 初始化硬件</li><li>获取屏幕大小，写入到 <code>dispinfo</code> 缓冲区</li></ul></li></ul><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td><code>serial_write</code></td><td>串口写入</td></tr><tr><td><code>events_read</code></td><td>读取事件</td></tr><tr><td><code>dispinfo_read</code></td><td>读取屏幕信息</td></tr><tr><td><code>fb_write</code></td><td>写入显存</td></tr></tbody></table><h2 id=loaderc>loader.c</h2><p>加载器。</p><p>宏 <code>DEFAULT_ENTRY</code> 用户程序默认入口点。</p><h3 id=函数-loader>函数 loader</h3><div class=highlight><pre class=chroma><code class=language-c data-lang=c><span class=k>static</span> <span class=n>uintptr_t</span> <span class=nf>loader</span><span class=p>(</span><span class=n>PCB</span> <span class=o>*</span><span class=n>pcb</span><span class=p>,</span> <span class=k>const</span> <span class=kt>char</span> <span class=o>*</span><span class=n>filename</span><span class=p>);</span>
</code></pre></div><p>把指定名称的用户程序加载到正确的内存位置。
使用了 <code>fs_read</code> 操作函数（定义在 <code>fs.h</code> 中）</p><h3 id=函数-naive_uload>函数 naive_uload</h3><p>调用 <code>loader</code> 加载程序，并执行（在 <code>proc.c/init_proc()</code> 中使用）。</p><h2 id=procc>proc.c</h2><p>进程相关。</p><h3 id=函数-init_proc>函数 init_proc</h3><p>初始化进程。</p><ul><li>调用 <code>naive_uload()</code> （在 <code>loader.c</code> 中定义），加载并执行指定程序。</li></ul><h2 id=irqc>irq.c</h2><p>定义了中断处理相关函数。</p><ul><li><code>do_event()</code> 根据上下文和事件进行处理<ul><li>将系统调用事件分发给 <code>syscall.c</code></li></ul></li><li><code>init_irq()</code> 初始化中断处理<ul><li>调用 <code>_cte_init()</code> 注册 <code>do_event</code> 作为处理函数。</li></ul></li></ul><h2 id=syscallh>syscall.h</h2><p>定义了各种系统调用类型的编号。</p><div class=highlight><pre class=chroma><code class=language-c data-lang=c><span class=k>enum</span> <span class=p>{</span>
  <span class=n>SYS_exit</span><span class=p>,</span>     <span class=c1>// 以指定结束码退出
</span><span class=c1></span>  <span class=n>SYS_yield</span><span class=p>,</span>    <span class=c1>// 自陷
</span><span class=c1></span>  <span class=n>SYS_open</span><span class=p>,</span>     <span class=c1>// 打开文件
</span><span class=c1></span>  <span class=n>SYS_read</span><span class=p>,</span>     <span class=c1>// 读取文件
</span><span class=c1></span>  <span class=n>SYS_write</span><span class=p>,</span>    <span class=c1>// 写入文件
</span><span class=c1></span>  <span class=n>SYS_kill</span><span class=p>,</span>
  <span class=n>SYS_getpid</span><span class=p>,</span>
  <span class=n>SYS_close</span><span class=p>,</span>    <span class=c1>// 关闭文件
</span><span class=c1></span>  <span class=n>SYS_lseek</span><span class=p>,</span>    <span class=c1>// 改变文件流位置
</span><span class=c1></span>  <span class=n>SYS_brk</span><span class=p>,</span>      <span class=c1>// 设置 program break，用于堆内存管理
</span><span class=c1></span>  <span class=n>SYS_fstat</span><span class=p>,</span>
  <span class=n>SYS_time</span><span class=p>,</span>
  <span class=n>SYS_signal</span><span class=p>,</span>
  <span class=n>SYS_execve</span><span class=p>,</span>
  <span class=n>SYS_fork</span><span class=p>,</span>
  <span class=n>SYS_link</span><span class=p>,</span>
  <span class=n>SYS_unlink</span><span class=p>,</span>
  <span class=n>SYS_wait</span><span class=p>,</span>
  <span class=n>SYS_times</span><span class=p>,</span>
  <span class=n>SYS_gettimeofday</span>
<span class=p>};</span>
</code></pre></div><h2 id=syscallc>syscall.c</h2><h3 id=函数-do_syscall>函数 do_syscall</h3><p>根据上下文（在栈中保存），执行系统调用。
使用 <code>nexus-am/am.h</code> 中的 GRP? 宏访问系统调用参数。根据调用类型执行对应函数并处理返回值。</p><h1 id=引用资料>引用资料</h1><ul><li><a class=link href=https://legacy.gitbook.com/book/nju-ics/ics2018-programming-assignment/details target=_blank rel=noopener>ICS2018 PA 讲义</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/nju/>NJU</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script></article><footer class=site-footer><section class=copyright>&copy;
2020 -
2021 StardustDL's Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=2.2.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script></body></html>