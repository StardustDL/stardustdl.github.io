<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project Source Demo Video  æ¥æº æœ€åˆçš„æƒ³æ³•æ¥è‡ª è®¡ç®—æœºå›¾å½¢å­¦çš„è¯¾ç¨‹é¡¹ç›®ä½œä¸šï¼Œå…¶è¦æ±‚åŸºäº Python + Qt å®ç°ä¸€ä¸ªæ”¯æŒç®€å•å›¾å…ƒç»˜åˆ¶çš„ GUI+CLI ç¨‹åºã€‚
ä¹‹å‰ä¸€èˆ¬ä»…ä½¿ç”¨ Python å†™ä¸€äº›ç®€å•çš„å°å‹é¡¹ç›®ã€‚æ›¾å†™è¿‡ä¸€ä¸ªè¾ƒå¤§é¡¹ç›®ï¼Œä½†å³ä½¿ä½¿ç”¨äº†ç±»å‹æ ‡æ³¨ï¼Œä¹Ÿå¾ˆå¿«éšç€é¡¹ç›®å¤æ‚åº¦çš„æå‡ï¼Œé‡åˆ°äº†ç»´æŠ¤ç“¶é¢ˆï¼Œå¤§å¤§å½±å“å¼€å‘æ•ˆç‡ï¼Œé‚ä¸­æ–­äº†å¼€å‘ã€‚
è¿™æ¬¡æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ Python å¼€å‘å›¾å½¢ç”¨æˆ·ç•Œé¢çš„è½¯ä»¶ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ Qtï¼Œè€ƒè™‘åˆ°è¿™ä¸ªé¡¹ç›®çš„éœ€æ±‚è¾ƒä¸ºæ˜ç¡®å¹¶ä¸”æœ‰è¶³å¤Ÿçš„æ‰©å±•å¯èƒ½ï¼Œå†³å®šå°†æ­¤é¡¹ç›®ä½œä¸ºä¸€ä¸ª Python è¾ƒå¤§å•äººé¡¹ç›®çš„ç»ƒæ‰‹ï¼Œå¹¶è§„é¿ä»¥å‰ Python é¡¹ç›®é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚
Idea æ ¹æ®è¯¾ç¨‹é¡¹ç›®çš„æ¨¡æ¿ä»£ç ï¼Œå‘ç°æ­¤é¡¹ç›®éå¸¸é€‚åˆ OOP æ¨¡å¼è®¾è®¡ã€‚ç»“åˆä»¥å‰çš„ WPF å­¦ä¹ ç»å†ï¼Œå†³å®šä¾ç…§ WPF çš„è®¾è®¡æ€è·¯ï¼Œè¯•å›¾åœ¨ ImagingS ä¸­å¤åˆ» WPF çš„å‘ˆç°æ¨¡å‹ã€‚
 
 å›¾å…ƒ Geometry å¯¹è±¡æè¿°å›¾å…ƒåŠå…¶ç»˜åˆ¶ç®—æ³• ç»˜å›¾ Drawing å°†å„ç§å›¾å…ƒç»˜åˆ¶åˆ° DrawingContext ä¸Š ç»˜å›¾ä¸Šä¸‹æ–‡ DrawingContext æä¾›å…·ä½“ç»˜å›¾çš„æŠ½è±¡ï¼Œç»Ÿä¸€ GUI ç»˜å›¾å’Œå›¾ç‰‡æ–‡ä»¶ç»˜å›¾ã€‚  é€šè¿‡è¿™ä¸‰ä¸ªå±‚æ¬¡ï¼Œå°†å‘ˆç°ç³»ç»Ÿçš„ä¸¤éƒ¨åˆ†ï¼šå®šä¹‰ä¸å‘ˆç°åˆ†ç¦»ã€‚
è®¾è®¡ æ ¸å¿ƒçš„ API é›†ä¸­åœ¨ä»¥ä¸‹å‡ ä¸ªç±»ä¸­ï¼Œå…¶ä¸­ä¸ç»˜åˆ¶æŠ½è±¡ç›¸å…³çš„å¤§éƒ¨åˆ†ç±»å‡èƒ½åœ¨ WPF ç»˜åˆ¶æ¨¡å‹ä¸­æ‰¾åˆ°å¯¹åº”ã€‚
 å›¾å…ƒç±»ï¼šå„ç§å›¾å…ƒçš„åŸºç±»ï¼Œå®šä¹‰äº†ç»˜åˆ¶ç®—æ³•ï¼ˆstrokePointsï¼‰å’Œå˜æ¢ã€‚  class Geometry(PropertySerializable, ABC): def __init__(self) -&amp;gt; None: pass def transform(self) -&amp;gt; Optional[Transform]: pass def strokePoints(self, pen: Pen) -&amp;gt; Iterable[Point]: pass def fillPoints(self) -&amp;gt; Iterable[Point]: pass def inStroke(self, pen: Pen, point: Point) -&amp;gt; bool: pass def inFill(self, point: Point) -&amp;gt; bool: pass def transformed(self) -&amp;gt; Geometry: pass def bounds(self) -&amp;gt; Rect: pass ç»˜åˆ¶ç±»ï¼šæ‰€æœ‰å¯ç»˜åˆ¶å…ƒç´ çš„åŸºç±»ï¼Œå®šä¹‰äº†ç»˜åˆ¶å‡½æ•°ï¼ˆrenderï¼‰ã€‚å¯¹äºå›¾å…ƒå¯¹è±¡ï¼Œå®ç°äº† GeometryDrawing æ¥å®é™…å®Œæˆå›¾å…ƒçš„ç»˜åˆ¶ä»»åŠ¡ã€‚  class Drawing(PropertySerializable, IdObject, ABC): def __init__(self) -&amp;gt; None: pass @abstractmethod def render(self, context: RenderContext) -&amp;gt; None: pass @property @abstractmethod def bounds(self) -&amp;gt; Rect: pass ç»˜å›¾ä¸Šä¸‹æ–‡ç±»ï¼šå¯¹å®é™…ç»˜åˆ¶çš„ç›®æ ‡çš„æŠ½è±¡  class RenderContext(ABC): @abstractmethod def _point(self, position: Point, color: Color) -&amp;gt; None: pass @abstractmethod def bounds(self) -&amp;gt; Rect: pass def point(self, position: Point, color: Color) -&amp;gt; None: pass def points(self, positions: Iterable[Point], brush: Brush) -&amp;gt; None: pass å˜æ¢ç±»ï¼šæ‰€æœ‰å˜æ¢çš„åŸºç±»ï¼Œå®šä¹‰äº†å¦‚ä½•å°†ä¸€ä¸ªç‚¹å˜æ¢åˆ°å¦ä¸€ä¸ªç‚¹  class Transform(PropertySerializable, IdObject, ABC): def __init__(self) -&amp;gt; None: pass @abstractmethod def transform(self, origin: Point) -&amp;gt; Point: pass æ–‡æ¡£ç±»ï¼šå®šä¹‰äº†å½“å‰æ–‡æ¡£æ‰€åŒ…å«çš„ç”»åˆ·ï¼Œå›¾å…ƒï¼Œç”»å¸ƒå¤§å°ç­‰ä¿¡æ¯ï¼Œå®ç°äº†åºåˆ—åŒ–æ“ä½œ  class Document(PropertySerializable, IdObject): def __init__(self) -&amp;gt; None: pass @property def brushes(self) -&amp;gt; IdObjectList[Brush]: pass @property def drawings(self) -&amp;gt; DrawingGroup: pass @property def size(self) -&amp;gt; Size: pass def save(self, file, format: DocumentFormat = DocumentFormat."><title>ImagingS å¼€å‘ç¬”è®°</title><link rel=canonical href=https://stardustdl.github.io/posts/projects/images-dev/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="ImagingS å¼€å‘ç¬”è®°"><meta property="og:description" content="Project Source Demo Video  æ¥æº æœ€åˆçš„æƒ³æ³•æ¥è‡ª è®¡ç®—æœºå›¾å½¢å­¦çš„è¯¾ç¨‹é¡¹ç›®ä½œä¸šï¼Œå…¶è¦æ±‚åŸºäº Python + Qt å®ç°ä¸€ä¸ªæ”¯æŒç®€å•å›¾å…ƒç»˜åˆ¶çš„ GUI+CLI ç¨‹åºã€‚
ä¹‹å‰ä¸€èˆ¬ä»…ä½¿ç”¨ Python å†™ä¸€äº›ç®€å•çš„å°å‹é¡¹ç›®ã€‚æ›¾å†™è¿‡ä¸€ä¸ªè¾ƒå¤§é¡¹ç›®ï¼Œä½†å³ä½¿ä½¿ç”¨äº†ç±»å‹æ ‡æ³¨ï¼Œä¹Ÿå¾ˆå¿«éšç€é¡¹ç›®å¤æ‚åº¦çš„æå‡ï¼Œé‡åˆ°äº†ç»´æŠ¤ç“¶é¢ˆï¼Œå¤§å¤§å½±å“å¼€å‘æ•ˆç‡ï¼Œé‚ä¸­æ–­äº†å¼€å‘ã€‚
è¿™æ¬¡æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ Python å¼€å‘å›¾å½¢ç”¨æˆ·ç•Œé¢çš„è½¯ä»¶ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ Qtï¼Œè€ƒè™‘åˆ°è¿™ä¸ªé¡¹ç›®çš„éœ€æ±‚è¾ƒä¸ºæ˜ç¡®å¹¶ä¸”æœ‰è¶³å¤Ÿçš„æ‰©å±•å¯èƒ½ï¼Œå†³å®šå°†æ­¤é¡¹ç›®ä½œä¸ºä¸€ä¸ª Python è¾ƒå¤§å•äººé¡¹ç›®çš„ç»ƒæ‰‹ï¼Œå¹¶è§„é¿ä»¥å‰ Python é¡¹ç›®é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚
Idea æ ¹æ®è¯¾ç¨‹é¡¹ç›®çš„æ¨¡æ¿ä»£ç ï¼Œå‘ç°æ­¤é¡¹ç›®éå¸¸é€‚åˆ OOP æ¨¡å¼è®¾è®¡ã€‚ç»“åˆä»¥å‰çš„ WPF å­¦ä¹ ç»å†ï¼Œå†³å®šä¾ç…§ WPF çš„è®¾è®¡æ€è·¯ï¼Œè¯•å›¾åœ¨ ImagingS ä¸­å¤åˆ» WPF çš„å‘ˆç°æ¨¡å‹ã€‚
 
 å›¾å…ƒ Geometry å¯¹è±¡æè¿°å›¾å…ƒåŠå…¶ç»˜åˆ¶ç®—æ³• ç»˜å›¾ Drawing å°†å„ç§å›¾å…ƒç»˜åˆ¶åˆ° DrawingContext ä¸Š ç»˜å›¾ä¸Šä¸‹æ–‡ DrawingContext æä¾›å…·ä½“ç»˜å›¾çš„æŠ½è±¡ï¼Œç»Ÿä¸€ GUI ç»˜å›¾å’Œå›¾ç‰‡æ–‡ä»¶ç»˜å›¾ã€‚  é€šè¿‡è¿™ä¸‰ä¸ªå±‚æ¬¡ï¼Œå°†å‘ˆç°ç³»ç»Ÿçš„ä¸¤éƒ¨åˆ†ï¼šå®šä¹‰ä¸å‘ˆç°åˆ†ç¦»ã€‚
è®¾è®¡ æ ¸å¿ƒçš„ API é›†ä¸­åœ¨ä»¥ä¸‹å‡ ä¸ªç±»ä¸­ï¼Œå…¶ä¸­ä¸ç»˜åˆ¶æŠ½è±¡ç›¸å…³çš„å¤§éƒ¨åˆ†ç±»å‡èƒ½åœ¨ WPF ç»˜åˆ¶æ¨¡å‹ä¸­æ‰¾åˆ°å¯¹åº”ã€‚
 å›¾å…ƒç±»ï¼šå„ç§å›¾å…ƒçš„åŸºç±»ï¼Œå®šä¹‰äº†ç»˜åˆ¶ç®—æ³•ï¼ˆstrokePointsï¼‰å’Œå˜æ¢ã€‚  class Geometry(PropertySerializable, ABC): def __init__(self) -&amp;gt; None: pass def transform(self) -&amp;gt; Optional[Transform]: pass def strokePoints(self, pen: Pen) -&amp;gt; Iterable[Point]: pass def fillPoints(self) -&amp;gt; Iterable[Point]: pass def inStroke(self, pen: Pen, point: Point) -&amp;gt; bool: pass def inFill(self, point: Point) -&amp;gt; bool: pass def transformed(self) -&amp;gt; Geometry: pass def bounds(self) -&amp;gt; Rect: pass ç»˜åˆ¶ç±»ï¼šæ‰€æœ‰å¯ç»˜åˆ¶å…ƒç´ çš„åŸºç±»ï¼Œå®šä¹‰äº†ç»˜åˆ¶å‡½æ•°ï¼ˆrenderï¼‰ã€‚å¯¹äºå›¾å…ƒå¯¹è±¡ï¼Œå®ç°äº† GeometryDrawing æ¥å®é™…å®Œæˆå›¾å…ƒçš„ç»˜åˆ¶ä»»åŠ¡ã€‚  class Drawing(PropertySerializable, IdObject, ABC): def __init__(self) -&amp;gt; None: pass @abstractmethod def render(self, context: RenderContext) -&amp;gt; None: pass @property @abstractmethod def bounds(self) -&amp;gt; Rect: pass ç»˜å›¾ä¸Šä¸‹æ–‡ç±»ï¼šå¯¹å®é™…ç»˜åˆ¶çš„ç›®æ ‡çš„æŠ½è±¡  class RenderContext(ABC): @abstractmethod def _point(self, position: Point, color: Color) -&amp;gt; None: pass @abstractmethod def bounds(self) -&amp;gt; Rect: pass def point(self, position: Point, color: Color) -&amp;gt; None: pass def points(self, positions: Iterable[Point], brush: Brush) -&amp;gt; None: pass å˜æ¢ç±»ï¼šæ‰€æœ‰å˜æ¢çš„åŸºç±»ï¼Œå®šä¹‰äº†å¦‚ä½•å°†ä¸€ä¸ªç‚¹å˜æ¢åˆ°å¦ä¸€ä¸ªç‚¹  class Transform(PropertySerializable, IdObject, ABC): def __init__(self) -&amp;gt; None: pass @abstractmethod def transform(self, origin: Point) -&amp;gt; Point: pass æ–‡æ¡£ç±»ï¼šå®šä¹‰äº†å½“å‰æ–‡æ¡£æ‰€åŒ…å«çš„ç”»åˆ·ï¼Œå›¾å…ƒï¼Œç”»å¸ƒå¤§å°ç­‰ä¿¡æ¯ï¼Œå®ç°äº†åºåˆ—åŒ–æ“ä½œ  class Document(PropertySerializable, IdObject): def __init__(self) -&amp;gt; None: pass @property def brushes(self) -&amp;gt; IdObjectList[Brush]: pass @property def drawings(self) -&amp;gt; DrawingGroup: pass @property def size(self) -&amp;gt; Size: pass def save(self, file, format: DocumentFormat = DocumentFormat."><meta property="og:url" content="https://stardustdl.github.io/posts/projects/images-dev/"><meta property="og:site_name" content="StardustDL's Blog"><meta property="og:type" content="article"><meta property="article:section" content="Posts"><meta property="article:published_time" content="2020-07-04T22:17:52+08:00"><meta property="article:modified_time" content="2020-07-04T22:17:52+08:00"><meta property="og:image" content="https://stardustdl.github.io/posts/projects/images-dev/head.png"><meta name=twitter:title content="ImagingS å¼€å‘ç¬”è®°"><meta name=twitter:description content="Project Source Demo Video  æ¥æº æœ€åˆçš„æƒ³æ³•æ¥è‡ª è®¡ç®—æœºå›¾å½¢å­¦çš„è¯¾ç¨‹é¡¹ç›®ä½œä¸šï¼Œå…¶è¦æ±‚åŸºäº Python + Qt å®ç°ä¸€ä¸ªæ”¯æŒç®€å•å›¾å…ƒç»˜åˆ¶çš„ GUI+CLI ç¨‹åºã€‚
ä¹‹å‰ä¸€èˆ¬ä»…ä½¿ç”¨ Python å†™ä¸€äº›ç®€å•çš„å°å‹é¡¹ç›®ã€‚æ›¾å†™è¿‡ä¸€ä¸ªè¾ƒå¤§é¡¹ç›®ï¼Œä½†å³ä½¿ä½¿ç”¨äº†ç±»å‹æ ‡æ³¨ï¼Œä¹Ÿå¾ˆå¿«éšç€é¡¹ç›®å¤æ‚åº¦çš„æå‡ï¼Œé‡åˆ°äº†ç»´æŠ¤ç“¶é¢ˆï¼Œå¤§å¤§å½±å“å¼€å‘æ•ˆç‡ï¼Œé‚ä¸­æ–­äº†å¼€å‘ã€‚
è¿™æ¬¡æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ Python å¼€å‘å›¾å½¢ç”¨æˆ·ç•Œé¢çš„è½¯ä»¶ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ Qtï¼Œè€ƒè™‘åˆ°è¿™ä¸ªé¡¹ç›®çš„éœ€æ±‚è¾ƒä¸ºæ˜ç¡®å¹¶ä¸”æœ‰è¶³å¤Ÿçš„æ‰©å±•å¯èƒ½ï¼Œå†³å®šå°†æ­¤é¡¹ç›®ä½œä¸ºä¸€ä¸ª Python è¾ƒå¤§å•äººé¡¹ç›®çš„ç»ƒæ‰‹ï¼Œå¹¶è§„é¿ä»¥å‰ Python é¡¹ç›®é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚
Idea æ ¹æ®è¯¾ç¨‹é¡¹ç›®çš„æ¨¡æ¿ä»£ç ï¼Œå‘ç°æ­¤é¡¹ç›®éå¸¸é€‚åˆ OOP æ¨¡å¼è®¾è®¡ã€‚ç»“åˆä»¥å‰çš„ WPF å­¦ä¹ ç»å†ï¼Œå†³å®šä¾ç…§ WPF çš„è®¾è®¡æ€è·¯ï¼Œè¯•å›¾åœ¨ ImagingS ä¸­å¤åˆ» WPF çš„å‘ˆç°æ¨¡å‹ã€‚
 
 å›¾å…ƒ Geometry å¯¹è±¡æè¿°å›¾å…ƒåŠå…¶ç»˜åˆ¶ç®—æ³• ç»˜å›¾ Drawing å°†å„ç§å›¾å…ƒç»˜åˆ¶åˆ° DrawingContext ä¸Š ç»˜å›¾ä¸Šä¸‹æ–‡ DrawingContext æä¾›å…·ä½“ç»˜å›¾çš„æŠ½è±¡ï¼Œç»Ÿä¸€ GUI ç»˜å›¾å’Œå›¾ç‰‡æ–‡ä»¶ç»˜å›¾ã€‚  é€šè¿‡è¿™ä¸‰ä¸ªå±‚æ¬¡ï¼Œå°†å‘ˆç°ç³»ç»Ÿçš„ä¸¤éƒ¨åˆ†ï¼šå®šä¹‰ä¸å‘ˆç°åˆ†ç¦»ã€‚
è®¾è®¡ æ ¸å¿ƒçš„ API é›†ä¸­åœ¨ä»¥ä¸‹å‡ ä¸ªç±»ä¸­ï¼Œå…¶ä¸­ä¸ç»˜åˆ¶æŠ½è±¡ç›¸å…³çš„å¤§éƒ¨åˆ†ç±»å‡èƒ½åœ¨ WPF ç»˜åˆ¶æ¨¡å‹ä¸­æ‰¾åˆ°å¯¹åº”ã€‚
 å›¾å…ƒç±»ï¼šå„ç§å›¾å…ƒçš„åŸºç±»ï¼Œå®šä¹‰äº†ç»˜åˆ¶ç®—æ³•ï¼ˆstrokePointsï¼‰å’Œå˜æ¢ã€‚  class Geometry(PropertySerializable, ABC): def __init__(self) -&amp;gt; None: pass def transform(self) -&amp;gt; Optional[Transform]: pass def strokePoints(self, pen: Pen) -&amp;gt; Iterable[Point]: pass def fillPoints(self) -&amp;gt; Iterable[Point]: pass def inStroke(self, pen: Pen, point: Point) -&amp;gt; bool: pass def inFill(self, point: Point) -&amp;gt; bool: pass def transformed(self) -&amp;gt; Geometry: pass def bounds(self) -&amp;gt; Rect: pass ç»˜åˆ¶ç±»ï¼šæ‰€æœ‰å¯ç»˜åˆ¶å…ƒç´ çš„åŸºç±»ï¼Œå®šä¹‰äº†ç»˜åˆ¶å‡½æ•°ï¼ˆrenderï¼‰ã€‚å¯¹äºå›¾å…ƒå¯¹è±¡ï¼Œå®ç°äº† GeometryDrawing æ¥å®é™…å®Œæˆå›¾å…ƒçš„ç»˜åˆ¶ä»»åŠ¡ã€‚  class Drawing(PropertySerializable, IdObject, ABC): def __init__(self) -&amp;gt; None: pass @abstractmethod def render(self, context: RenderContext) -&amp;gt; None: pass @property @abstractmethod def bounds(self) -&amp;gt; Rect: pass ç»˜å›¾ä¸Šä¸‹æ–‡ç±»ï¼šå¯¹å®é™…ç»˜åˆ¶çš„ç›®æ ‡çš„æŠ½è±¡  class RenderContext(ABC): @abstractmethod def _point(self, position: Point, color: Color) -&amp;gt; None: pass @abstractmethod def bounds(self) -&amp;gt; Rect: pass def point(self, position: Point, color: Color) -&amp;gt; None: pass def points(self, positions: Iterable[Point], brush: Brush) -&amp;gt; None: pass å˜æ¢ç±»ï¼šæ‰€æœ‰å˜æ¢çš„åŸºç±»ï¼Œå®šä¹‰äº†å¦‚ä½•å°†ä¸€ä¸ªç‚¹å˜æ¢åˆ°å¦ä¸€ä¸ªç‚¹  class Transform(PropertySerializable, IdObject, ABC): def __init__(self) -&amp;gt; None: pass @abstractmethod def transform(self, origin: Point) -&amp;gt; Point: pass æ–‡æ¡£ç±»ï¼šå®šä¹‰äº†å½“å‰æ–‡æ¡£æ‰€åŒ…å«çš„ç”»åˆ·ï¼Œå›¾å…ƒï¼Œç”»å¸ƒå¤§å°ç­‰ä¿¡æ¯ï¼Œå®ç°äº†åºåˆ—åŒ–æ“ä½œ  class Document(PropertySerializable, IdObject): def __init__(self) -&amp;gt; None: pass @property def brushes(self) -&amp;gt; IdObjectList[Brush]: pass @property def drawings(self) -&amp;gt; DrawingGroup: pass @property def size(self) -&amp;gt; Size: pass def save(self, file, format: DocumentFormat = DocumentFormat."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://stardustdl.github.io/posts/projects/images-dev/head.png"><link rel="shortcut icon" href=/favicon.png><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-111573521-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="article-page keep-sidebar"><script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.body.dataset.scheme='dark':document.body.dataset.scheme='light'})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><img src=/assets/images/avatar_hu55fbf1db337484ccbc1a7220a4594f60_220509_300x0_resize_box_2.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
<span class=emoji>ğŸ¥</span></figure><h1 class=site-name><a href=https://stardustdl.github.io/>StardustDL's Blog</a></h1><h2 class=site-description></h2></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/about><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About</span></a></li><li><a href=/archives><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/posts/projects/images-dev/><img src=/posts/projects/images-dev/head_hu305c74f0c0f0b5e138f098c149d6d1b0_54241_800x0_resize_box_2.png srcset="/posts/projects/images-dev/head_hu305c74f0c0f0b5e138f098c149d6d1b0_54241_800x0_resize_box_2.png 800w, /posts/projects/images-dev/head_hu305c74f0c0f0b5e138f098c149d6d1b0_54241_1600x0_resize_box_2.png 1600w" width=800 height=400 loading=lazy alt="Featured image of post ImagingS å¼€å‘ç¬”è®°"></a></div><div class=article-details><header class=article-category><a href=/categories/projects/>Projects</a></header><h2 class=article-title><a href=/posts/projects/images-dev/>ImagingS å¼€å‘ç¬”è®°</a></h2><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>Jul 04, 2020</time></footer></div></header><section class=article-content><ul><li><a class=link href=https://github.com/StardustDL/ImagingS target=_blank rel=noopener>Project Source</a></li><li><a class=link href=https://www.bilibili.com/video/BV1Q54y1i7Lg/ target=_blank rel=noopener>Demo Video</a></li></ul><div style=position:relative;width:100%;height:0;padding-bottom:56.25%><iframe src="//player.bilibili.com/player.html?as_wide=1&high_quality=1&page=1&bvid=BV1Q54y1i7Lg" scrolling=no frameborder=no framespacing=0 allowfullscreen style=position:absolute;width:100%;height:100%;left:0;top:0></iframe></div><h1 id=æ¥æº>æ¥æº</h1><p>æœ€åˆçš„æƒ³æ³•æ¥è‡ª <a class=link href=https://git.nju.edu.cn/songyc/cg2020a target=_blank rel=noopener>è®¡ç®—æœºå›¾å½¢å­¦çš„è¯¾ç¨‹é¡¹ç›®ä½œä¸š</a>ï¼Œå…¶è¦æ±‚åŸºäº Python + Qt å®ç°ä¸€ä¸ªæ”¯æŒç®€å•å›¾å…ƒç»˜åˆ¶çš„ GUI+CLI ç¨‹åºã€‚</p><p>ä¹‹å‰ä¸€èˆ¬ä»…ä½¿ç”¨ Python å†™ä¸€äº›ç®€å•çš„å°å‹é¡¹ç›®ã€‚æ›¾å†™è¿‡ä¸€ä¸ª<a class=link href=https://github.com/eXceediDeaL/edl-coderunner target=_blank rel=noopener>è¾ƒå¤§é¡¹ç›®</a>ï¼Œä½†å³ä½¿ä½¿ç”¨äº†ç±»å‹æ ‡æ³¨ï¼Œä¹Ÿå¾ˆå¿«éšç€é¡¹ç›®å¤æ‚åº¦çš„æå‡ï¼Œé‡åˆ°äº†ç»´æŠ¤ç“¶é¢ˆï¼Œå¤§å¤§å½±å“å¼€å‘æ•ˆç‡ï¼Œé‚ä¸­æ–­äº†å¼€å‘ã€‚</p><p>è¿™æ¬¡æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ Python å¼€å‘å›¾å½¢ç”¨æˆ·ç•Œé¢çš„è½¯ä»¶ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ Qtï¼Œè€ƒè™‘åˆ°è¿™ä¸ªé¡¹ç›®çš„éœ€æ±‚è¾ƒä¸ºæ˜ç¡®å¹¶ä¸”æœ‰è¶³å¤Ÿçš„æ‰©å±•å¯èƒ½ï¼Œå†³å®šå°†æ­¤é¡¹ç›®ä½œä¸ºä¸€ä¸ª Python è¾ƒå¤§å•äººé¡¹ç›®çš„ç»ƒæ‰‹ï¼Œå¹¶è§„é¿ä»¥å‰ Python é¡¹ç›®é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚</p><h1 id=idea>Idea</h1><p>æ ¹æ®è¯¾ç¨‹é¡¹ç›®çš„æ¨¡æ¿ä»£ç ï¼Œå‘ç°æ­¤é¡¹ç›®éå¸¸é€‚åˆ OOP æ¨¡å¼è®¾è®¡ã€‚ç»“åˆä»¥å‰çš„ <a class=link href=https://github.com/dotnet/wpf target=_blank rel=noopener>WPF</a> å­¦ä¹ ç»å†ï¼Œå†³å®šä¾ç…§ WPF çš„è®¾è®¡æ€è·¯ï¼Œè¯•å›¾åœ¨ ImagingS ä¸­å¤åˆ» WPF çš„å‘ˆç°æ¨¡å‹ã€‚</p><p><figure style=flex-grow:181;flex-basis:435px><a href=/posts/projects/images-dev/design.png data-size=1333x734><img src=/posts/projects/images-dev/design.png srcset="/posts/projects/images-dev/design_hu961f291e083aac78bf58b363ae84b038_86468_480x0_resize_box_2.png 480w, /posts/projects/images-dev/design_hu961f291e083aac78bf58b363ae84b038_86468_1024x0_resize_box_2.png 1024w" width=1333 height=734 loading=lazy></a></figure></p><ol><li>å›¾å…ƒ Geometry å¯¹è±¡æè¿°å›¾å…ƒåŠå…¶ç»˜åˆ¶ç®—æ³•</li><li>ç»˜å›¾ Drawing å°†å„ç§å›¾å…ƒç»˜åˆ¶åˆ° DrawingContext ä¸Š</li><li>ç»˜å›¾ä¸Šä¸‹æ–‡ DrawingContext æä¾›å…·ä½“ç»˜å›¾çš„æŠ½è±¡ï¼Œç»Ÿä¸€ GUI ç»˜å›¾å’Œå›¾ç‰‡æ–‡ä»¶ç»˜å›¾ã€‚</li></ol><p>é€šè¿‡è¿™ä¸‰ä¸ªå±‚æ¬¡ï¼Œå°†å‘ˆç°ç³»ç»Ÿçš„ä¸¤éƒ¨åˆ†ï¼šå®šä¹‰ä¸å‘ˆç°åˆ†ç¦»ã€‚</p><h2 id=è®¾è®¡>è®¾è®¡</h2><p>æ ¸å¿ƒçš„ API é›†ä¸­åœ¨ä»¥ä¸‹å‡ ä¸ªç±»ä¸­ï¼Œå…¶ä¸­ä¸ç»˜åˆ¶æŠ½è±¡ç›¸å…³çš„å¤§éƒ¨åˆ†ç±»å‡èƒ½åœ¨ WPF ç»˜åˆ¶æ¨¡å‹ä¸­æ‰¾åˆ°å¯¹åº”ã€‚</p><ol><li>å›¾å…ƒç±»ï¼šå„ç§å›¾å…ƒçš„åŸºç±»ï¼Œå®šä¹‰äº†ç»˜åˆ¶ç®—æ³•ï¼ˆstrokePointsï¼‰å’Œå˜æ¢ã€‚</li></ol><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>Geometry</span><span class=p>(</span><span class=n>PropertySerializable</span><span class=p>,</span> <span class=n>ABC</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>transform</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Transform</span><span class=p>]:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>strokePoints</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pen</span><span class=p>:</span> <span class=n>Pen</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>Point</span><span class=p>]:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>fillPoints</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>Point</span><span class=p>]:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>inStroke</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pen</span><span class=p>:</span> <span class=n>Pen</span><span class=p>,</span> <span class=n>point</span><span class=p>:</span> <span class=n>Point</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>inFill</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>point</span><span class=p>:</span> <span class=n>Point</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>transformed</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Geometry</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>bounds</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Rect</span><span class=p>:</span> <span class=k>pass</span>
</code></pre></div><ol start=2><li>ç»˜åˆ¶ç±»ï¼šæ‰€æœ‰å¯ç»˜åˆ¶å…ƒç´ çš„åŸºç±»ï¼Œå®šä¹‰äº†ç»˜åˆ¶å‡½æ•°ï¼ˆrenderï¼‰ã€‚å¯¹äºå›¾å…ƒå¯¹è±¡ï¼Œå®ç°äº† GeometryDrawing æ¥å®é™…å®Œæˆå›¾å…ƒçš„ç»˜åˆ¶ä»»åŠ¡ã€‚</li></ol><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>Drawing</span><span class=p>(</span><span class=n>PropertySerializable</span><span class=p>,</span> <span class=n>IdObject</span><span class=p>,</span> <span class=n>ABC</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span> <span class=nf>render</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>:</span> <span class=n>RenderContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=nd>@property</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span> <span class=nf>bounds</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Rect</span><span class=p>:</span> <span class=k>pass</span>
</code></pre></div><ol start=3><li>ç»˜å›¾ä¸Šä¸‹æ–‡ç±»ï¼šå¯¹å®é™…ç»˜åˆ¶çš„ç›®æ ‡çš„æŠ½è±¡</li></ol><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>RenderContext</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span> <span class=nf>_point</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>position</span><span class=p>:</span> <span class=n>Point</span><span class=p>,</span> <span class=n>color</span><span class=p>:</span> <span class=n>Color</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span> <span class=nf>bounds</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Rect</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>point</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>position</span><span class=p>:</span> <span class=n>Point</span><span class=p>,</span> <span class=n>color</span><span class=p>:</span> <span class=n>Color</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>points</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>positions</span><span class=p>:</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>Point</span><span class=p>],</span> <span class=n>brush</span><span class=p>:</span> <span class=n>Brush</span><span class=p>)</span>
     <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>
</code></pre></div><ol start=4><li>å˜æ¢ç±»ï¼šæ‰€æœ‰å˜æ¢çš„åŸºç±»ï¼Œå®šä¹‰äº†å¦‚ä½•å°†ä¸€ä¸ªç‚¹å˜æ¢åˆ°å¦ä¸€ä¸ªç‚¹</li></ol><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>Transform</span><span class=p>(</span><span class=n>PropertySerializable</span><span class=p>,</span> <span class=n>IdObject</span><span class=p>,</span> <span class=n>ABC</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span> <span class=nf>transform</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>origin</span><span class=p>:</span> <span class=n>Point</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Point</span><span class=p>:</span> <span class=k>pass</span>
</code></pre></div><ol start=5><li>æ–‡æ¡£ç±»ï¼šå®šä¹‰äº†å½“å‰æ–‡æ¡£æ‰€åŒ…å«çš„ç”»åˆ·ï¼Œå›¾å…ƒï¼Œç”»å¸ƒå¤§å°ç­‰ä¿¡æ¯ï¼Œå®ç°äº†åºåˆ—åŒ–æ“ä½œ</li></ol><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>Document</span><span class=p>(</span><span class=n>PropertySerializable</span><span class=p>,</span> <span class=n>IdObject</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=nd>@property</span>
    <span class=k>def</span> <span class=nf>brushes</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>IdObjectList</span><span class=p>[</span><span class=n>Brush</span><span class=p>]:</span> <span class=k>pass</span>

    <span class=nd>@property</span>
    <span class=k>def</span> <span class=nf>drawings</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DrawingGroup</span><span class=p>:</span> <span class=k>pass</span>

    <span class=nd>@property</span>
    <span class=k>def</span> <span class=nf>size</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Size</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>file</span><span class=p>,</span> <span class=n>format</span><span class=p>:</span> <span class=n>DocumentFormat</span> <span class=o>=</span> <span class=n>DocumentFormat</span><span class=o>.</span><span class=n>ISD</span><span class=p>)</span>
     <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span> <span class=nf>load</span><span class=p>(</span><span class=nb>file</span><span class=p>,</span> <span class=n>format</span><span class=p>:</span> <span class=n>DocumentFormat</span> <span class=o>=</span> <span class=n>DocumentFormat</span><span class=o>.</span><span class=n>ISD</span><span class=p>)</span>
     <span class=o>-&gt;</span> <span class=n>Document</span><span class=p>:</span> <span class=k>pass</span>
</code></pre></div><ol start=6><li>ç”»å¸ƒç±»ï¼šå°†æŠ½è±¡ç»˜åˆ¶å¯¹è±¡åŒ…è£…æˆ Qt ä¸­çš„ç»˜åˆ¶å¯¹è±¡</li></ol><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>Canvas</span><span class=p>(</span><span class=n>QGraphicsView</span><span class=p>):</span> <span class=k>pass</span>

<span class=k>class</span> <span class=nc>DrawingItem</span><span class=p>(</span><span class=n>QGraphicsItem</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>drawing</span><span class=p>:</span> <span class=n>Drawing</span><span class=p>,</span> 
        <span class=n>size</span><span class=p>:</span> <span class=n>QSizeF</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>QGraphicsItem</span><span class=p>]</span> <span class=o>=</span> <span class=bp>None</span><span class=p>):</span> <span class=k>pass</span>
</code></pre></div><ol start=7><li>äº¤äº’ç±»ï¼šå®šä¹‰äº† GUI ä¸Šä¸å›¾å…ƒäº¤äº’çš„æ‰€æœ‰æ“ä½œï¼Œæä¾›ç»™ç”»å¸ƒä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥å¤„ç†ç”¨æˆ·äº¤äº’</li></ol><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>Interactivity</span><span class=p>(</span><span class=n>QObject</span><span class=p>):</span>
    <span class=n>started</span> <span class=o>=</span> <span class=n>pyqtSignal</span><span class=p>(</span><span class=n>QObject</span><span class=p>)</span>
    <span class=n>ended</span> <span class=o>=</span> <span class=n>pyqtSignal</span><span class=p>(</span><span class=n>QObject</span><span class=p>)</span>
    <span class=n>updated</span> <span class=o>=</span> <span class=n>pyqtSignal</span><span class=p>(</span><span class=n>QObject</span><span class=p>)</span>

    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>start</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>end</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>success</span><span class=p>:</span> <span class=nb>bool</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>update</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=nd>@property</span>
    <span class=k>def</span> <span class=nf>viewItem</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>QGraphicsItem</span><span class=p>]:</span> <span class=k>pass</span>

    <span class=nd>@property</span>
    <span class=k>def</span> <span class=nf>state</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>InteractivityState</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>onMousePress</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>point</span><span class=p>:</span> <span class=n>QPointF</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>onMouseMove</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>point</span><span class=p>:</span> <span class=n>QPointF</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>onMouseRelease</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>point</span><span class=p>:</span> <span class=n>QPointF</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>onMouseDoubleClick</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>point</span><span class=p>:</span> <span class=n>QPointF</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>onKeyPress</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=n>QKeyEvent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>

    <span class=k>def</span> <span class=nf>onKeyRelease</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=n>QKeyEvent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=bp>None</span><span class=p>:</span> <span class=k>pass</span>
</code></pre></div><h1 id=å®ç°>å®ç°</h1><ul><li><input disabled type=checkbox> To be done</li></ul><h1 id=æ€»ç»“>æ€»ç»“</h1><p>è¿™ä¸ªé¡¹ç›®å€Ÿé‰´äº† WPF å‘ˆç°æ¨¡å‹çš„è®¾è®¡ï¼Œä¸€ä¸ªæˆç†Ÿçš„æ¨¡å‹çš„ç¡®æ˜¯å¯Œæœ‰æ‰©å±•æ€§å’Œè¾ƒæ˜“ç»´æŠ¤çš„ã€‚Python + Qt çš„ç»„åˆå¼€å‘æ•ˆç‡ä¹Ÿæ˜¯å¾ˆé«˜çš„ï¼Œä½†æ˜¯è¿è¡Œæ•ˆç‡æœ‰ä¸€å®šæŸå¤±ã€‚</p><p>é¡¹ç›®ç›®å‰çš„ä¸»è¦ä¸è¶³ï¼Œä¸€æ˜¯å›¾å½¢å­¦ç›¸å…³ç®—æ³•å®ç°è¾ƒå°‘ï¼›äºŒæ˜¯éƒ¨åˆ†ç±»çš„ API è®¾è®¡ä¸å¤Ÿå‡†ç¡®ï¼Œè¿™éƒ¨åˆ†å¯èƒ½æ¥æºäº Qt ç»˜å›¾æ¨¡å‹å’Œ WPF ä¾èµ–çš„ DirectX ä¸¤è€…çš„ä¸ä¸€è‡´ï¼Œå¤åˆ»çš„è¿‡ç¨‹ä¸­éƒ¨åˆ†è®¾è®¡éœ€è¦é€‚é… Qt ï¼Œé€ æˆä¸€å®šå¦¥åï¼ˆä¾‹å¦‚ PyQt çš„ç»˜åˆ¶æ•ˆç‡ä½ä¸‹ï¼Œå¯¼è‡´éƒ¨åˆ†åŠŸèƒ½ä¸å®¹æ˜“åœ¨æ­¤æ¨¡å‹ä¸‹é«˜æ•ˆå®ç°ï¼‰ã€‚</p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script></article><script src=https://utteranc.es/client.js repo=StardustDL/stardustdl.github.io issue-term=pathname label=comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>function setUtterancesTheme(b){let a=document.querySelector('.utterances iframe');a&&a.contentWindow.postMessage({type:'set-theme',theme:`github-${b}`},'https://utteranc.es')}addEventListener('message',a=>{if(a.origin!=='https://utteranc.es')return;setUtterancesTheme(document.body.dataset.scheme)}),window.addEventListener('onColorSchemeChange',a=>{setUtterancesTheme(a.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2021 StardustDL's Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=2.2.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script></body></html>