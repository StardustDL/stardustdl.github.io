{"Id":"Problems/Contests/linglong-acm-round23","Type":0,"AuthorId":"","Content":{"Tag":"","Raw":"\n# \u751F\u662F\u8102\u80AA\u7684\u4EBA\n\n\u7ED9\u5B9A\u4E00\u4E2A\u6574\u6570 $n$ \uFF0C\u8F93\u51FA $10^n/7$ \u7684\u4E2A\u4F4D\u6570\u3002\u5176\u4E2D $|n| \\leq 10^{18}$\n\n## \u5206\u6790\n\n\u6253\u8868\u89C4\u5F8B\uFF1A $1,4,2,8,5,7$ \u5FAA\u73AF\n\n## \u4EE3\u7801\n\n\u0060\u0060\u0060c\u002B\u002B\n#include \u003Ciostream\u003E\n#include \u003Ccstdio\u003E\n#include \u003Ccstdlib\u003E\n#include \u003Ccstring\u003E\n#include \u003Calgorithm\u003E\nusing namespace std;\nconst int a[] = {1, 4, 2, 8, 5, 7};\ntypedef long long LL;\nint main()\n{\n    int T;LL n;\n    cin \u003E\u003E T;\n    while (T--)\n    {\n        cin \u003E\u003E n;\n        if (n \u003C 1)\n        {\n            cout \u003C\u003C 0 \u003C\u003C endl;\n            continue;\n        }\n        n -= 1;\n        cout \u003C\u003C a[n % 6] \u003C\u003C endl;\n    }\n    return 0;\n}\n\u0060\u0060\u0060\n\n# \u6B7B\u662F\u8102\u80AA\u7684\u9B3C\n\n\u7ED9\u5B9A\u4E00\u4E2A99\u7684\u6570\u72EC\uFF0C\u5224\u65AD\u8BE5\u6570\u72EC\u662F\u5426\u5408\u6CD5\u3002\u5982\u679C\u5408\u6CD5\u8F93\u51FAYes,\u5426\u5219\u8F93\u51FANo\u3002\u6570\u72EC\u5F53\u4E14\u4EC5\u5F53\u6BCF\u884C\u6BCF\u5217\u4EE5\u53CA9\u4E2A33\u7684\u5C0F\u65B9\u683C\u90FD\u662F1\u301C9\u76849\u4E2A\u6570\u624D\u5408\u6CD5\u3002\n\n## \u5206\u6790\n\n\u6A21\u62DF\u6570\u72EC\u5224\u65AD\u3002\n\n## \u4EE3\u7801\n\n\u0060\u0060\u0060c\u002B\u002B\n#include \u003Ciostream\u003E\n#include \u003Ccstdio\u003E\n#include \u003Ccstdlib\u003E\n#include \u003Ccstring\u003E\n#include \u003Calgorithm\u003E\nusing namespace std;\nint T;\nint b[20][20];\nbool check(){\n    for(int i=1;i\u003C=9;i\u002B\u002B){\n        int s1=0,s2=0;\n        for(int j=1;j\u003C=9;j\u002B\u002B)s1\u002B=b[i][j],s2\u002B=b[j][i];\n        if(s1!=45 || s2!=45){\n            return false;\n        }\n    }\n    for(int i=1;i\u003C=9;i\u002B=3)for(int j=1;j\u003C=9;j\u002B=3){\n        int s=0;\n        for(int k=0;k\u003C3;k\u002B\u002B)for(int l=0;l\u003C3;l\u002B\u002B)s\u002B=b[i\u002Bk][j\u002Bl];\n        if(s!=45)return false;\n    }\n    return true;\n}\nint cnt[13];\nint main(){\n    cin\u003E\u003ET;\n    while(T--){\n        for(int i=1;i\u003C=9;i\u002B\u002B)cnt[i]=0;\n        for(int i=1;i\u003C=9;i\u002B\u002B){\n            for(int j=1;j\u003C=9;j\u002B\u002B){\n                cin\u003E\u003Eb[i][j];\n                cnt[b[i][j]]\u002B\u002B;\n            }\n        }\n        bool flg=true;\n        for(int i=1;i\u003C=9;i\u002B\u002B)if(cnt[i]!=9){flg=false;break;}\n        if(flg)flg\u0026=check();\n        puts(flg?\u0022Yes\u0022:\u0022No\u0022);\n    }\n    return 0;\n}\n\u0060\u0060\u0060\n\n# \u4F60\u5C45\u7136\u4E0D\u5403\u5DE7\u514B\u529B\n\n\u7ED9\u5B9A\u4E00\u4E2A\u6B63\u6574\u6570n\uFF0C\u73B0\u5728\u6709n\u4E2A\u77F3\u5934\uFF0C\u6BCF\u4E2A\u5355\u72EC\u6210\u4E00\u5806\u3002\u73B0\u5728\u53EF\u4EE5\u6BCF\u6B21\u5408\u5E76\u4E24\u5806\u77F3\u5934\uFF0C\u4EA7\u751F\u7684\u80FD\u91CF\u4E3A\u4E24\u5806\u77F3\u5934\u4E2A\u6570\u7684min\u3002\u4F60\u73B0\u5728\u8981\u5C06\u6240\u6709\u7684\u77F3\u5934\u5408\u5E76\u6210\u4E00\u5806\uFF0C\u5E76\u4E14\u83B7\u5F97\u7684\u80FD\u91CF\u6700\u5927\u3002\u8F93\u51FA\u8FD9\u4E2A\u6700\u5927\u503C\u3002$1\\leq n \\leq 10^7$\n\n## \u5206\u6790\n\n\u6700\u540E\u4E00\u6B21\u5C3D\u91CF\u5E73\u5747\u5373\u53EF\u3002\u590D\u6742\u5EA6 $O(\\log_2 n)$\n\n$$\nS(n)=\\begin{cases}\n0, \u0026 \\text{if $ n\u003C=1 $}\\\\\n\\lfloor n/2 \\rfloor \u002B 2S(\\lfloor n/2 \\rfloor), \u0026 \\text{n is even}\\\\\n\\lfloor n/2 \\rfloor \u002B S(\\lfloor n/2 \\rfloor)\u002BS(n-\\lfloor n/2 \\rfloor), \u0026 \\text{n is odd}\\\\\n\\end{cases}\n$$\n\n## \u4EE3\u7801\n\n\u0060\u0060\u0060c\u002B\u002B\n#include \u003Ciostream\u003E\n#include \u003Ccstdio\u003E\n#include \u003Ccstdlib\u003E\n#include \u003Ccstring\u003E\n#include \u003Calgorithm\u003E\nusing namespace std;\nint solve(int n){\n    if(n\u003C=1)return 0;\n    if(n\u00261){\n        return (n\u003E\u003E1)\u002Bsolve(n\u003E\u003E1)\u002Bsolve(n-(n\u003E\u003E1));\n    }\n    else{\n        return (n\u003E\u003E1)\u002B(solve(n\u003E\u003E1)\u003C\u003C1);\n    }\n}\nint main(){\n    int T;cin\u003E\u003ET;\n    while(T--){\n        int n;cin\u003E\u003En;\n        cout\u003C\u003Csolve(n)\u003C\u003Cendl;\n    }\n    return 0;\n}\n\u0060\u0060\u0060\n\n# \u522B\u4E0D\u597D\u610F\u601D\uFF0C\u90FD\u662F\u8102\u80AA\u7684\u4EBA\n\n\u6C42 \n$$\\sum_{x_1=0}^{\u002B\\infty} \\sum_{x_2=0}^{\u002B\\infty} \\dots \\sum_{x_n=0}^{\u002B\\infty} \\frac{x_1\u002Bx_2\u002B\\dots\u002Bx_n}{k^{x_1\u002Bx_2\u002B\\dots\u002Bx_n}}$$\n\u6570\u636E\u4FDD\u8BC1\u7B54\u6848\u662F\u4E00\u4E2A\u6709\u7406\u6570\uFF0C\u6C42\u51FA\u6A21 $10^9\u002B7$ \u610F\u4E49\u4E0B\u7684\u503C\u3002\n\n## \u5206\u6790\n\n\u9996\u5148\u8F6C\u5316\u4E00\u4E0B\uFF0C\u8BA1\u7B97 \u6BCF\u4E00\u9879\u7684\u51FA\u73B0\u6B21\u6570\uFF0C\u5373 $x_1\u002Bx_2\u002B\\dots\u002Bx_n=t$ \u7684\u6574\u6570\u89E3\u7684\u6570\u91CF\uFF08\u53EF\u4E3A $0$\uFF09\uFF0C\u8FD9\u4E00\u6B65\u662F\u7ECF\u5178\u7EC4\u5408\u8BA1\u6570\u95EE\u9898\uFF0C\u7B54\u6848\u4E3A $\\binom{n-1\u002Bt}{n-1}$\u3002\u7136\u540E\u5C31\u6709\n\n$$\n\\text{\u539F\u5F0F}=\\sum_{t=0}^{\u002B \\infty} \\binom{n-1\u002Bt}{n-1}\\frac{t}{k^t}\n$$\n\n\u5173\u4E8E\u4E8C\u9879\u5F0F\u7CFB\u6570\u6709\u4EE5\u4E0B\u6052\u7B49\u5F0F\uFF08$n \\geq 0$\uFF09\uFF1A\n\n$$\n\\frac{1}{(1-z)^{n\u002B1}}=\\sum_{k=0}^{\u002B\\infty} \\binom{n\u002Bk}{n} z^k\n$$\n\n\u6CE8\u610F\u5230\u6B64\u9898\u4E2D\u6C42\u548C\u9879\u4E2D\u591A\u4E86\u4E00\u4E2A $t$\uFF0C\u90A3\u4E48\u5BF9\u4E0A\u8FF0\u6052\u7B49\u5F0F\u5DE6\u53F3\u6C42\u5BFC\uFF0C\u7531\u5E42\u7EA7\u6570\u6027\u8D28\u6709\n\n$$\n(n\u002B1)(1-z)^{-(n\u002B2)}=\\sum_{k=0}^{\u002B\\infty} \\binom{n\u002Bk}{n} kz^{k-1}\n$$\n\n\u5DE6\u53F3\u518D\u4E58\u4E0A $z$\uFF0C\u5C31\u548C\u6211\u4EEC\u8981\u6C42\u7684\u5F0F\u5B50\u5F62\u5F0F\u76F8\u540C\u4E86\u3002\n\n$$\nz(n\u002B1)(1-z)^{-(n\u002B2)}=\\sum_{k=0}^{\u002B\\infty} \\binom{n\u002Bk}{n} kz^k\n$$\n\n\u6545\u539F\u5F0F\u7B49\u4E8E $zn(1-z)^{-(n\u002B1)}$ \uFF0C\u5176\u4E2D $z=1/k$\u3002\n\n## \u4EE3\u7801\n\n\u0060\u0060\u0060c\u002B\u002B\n#include \u003Ciostream\u003E\n#include \u003Ccstdio\u003E\n#include \u003Ccstdlib\u003E\n#include \u003Ccstring\u003E\n#include \u003Calgorithm\u003E\nusing namespace std;\ntypedef long long LL;\nconst LL MOD=1e9\u002B7;\nLL T,n,k;\nLL qpow(LL a,LL n){\n    LL ans=1;\n    while(n){\n        if(n\u00261)ans=ans*a%MOD;\n        a=a*a%MOD;\n        n\u003E\u003E=1;\n    }\n    return ans;\n}\ninline LL inv(LL x){\n    return qpow(x,MOD-2);\n}\nint main(){\n    cin\u003E\u003ET;\n    while(T--){\n        cin\u003E\u003En\u003E\u003Ek;\n        LL z=inv(k);\n        LL t=inv((MOD\u002B1-z)%MOD);\n        LL ans=z*n%MOD*qpow(t,n\u002B1)%MOD;\n        cout\u003C\u003Cans\u003C\u003Cendl;\n    }\n    return 0;\n}\n\u0060\u0060\u0060"},"Title":"\u201C\u73B2\u73D1\u676F\u201D ACM\u6BD4\u8D5B Round 23","Category":{"Items":["Problems","Contests"]},"Keywords":{"Items":[]},"CreationTime":"2018-08-08T16:06:25+08:00","ModificationTime":"2018-08-08T16:06:25+08:00"}