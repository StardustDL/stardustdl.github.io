{"Id":"Tools/gdb","Type":2,"Author":"","Content":{"Tag":"","Raw":"\n# \u57FA\u672C\u4FE1\u606F\n\n- [\u5B98\u7F51](http://www.gnu.org/software/gdb/)\n- \u4ECB\u7ECD\uFF1A\u4E00\u79CD\u652F\u6301\u591A\u79CD\u8BED\u8A00\u7684\u8C03\u8BD5\u5668\u3002\n\n# \u57FA\u7840\u77E5\u8BC6\n\n\u4F7F\u7528 gdb \u8C03\u8BD5 C \u7A0B\u5E8F\u65F6\uFF0C\u5EFA\u8BAE\u5728\u7A0B\u5E8F\u7F16\u8BD1\u65F6\u52A0\u5165\u8C03\u8BD5\u7B26\u53F7\u4FE1\u606F \u0060-g\u0060 \u9009\u9879\u3002\n\n\u0060\u0060\u0060sh\ngdb a.out\n\u0060\u0060\u0060\n\n\u53EF\u4EE5\u4F7F\u7528 \u0060--tui\u0060 \u9009\u9879\u8FDB\u5165\u7EC8\u7AEF\u7528\u6237\u754C\u9762\u56FE\u5F62\u5316\u8C03\u8BD5\u3002\u0060Ctrl \u002B X\u0060 \u002B \u0060A\u0060 \u5207\u6362 TUI \u548C\u4F20\u7EDF\u6A21\u5F0F\u3002\n\n|\u547D\u4EE4|\u63CF\u8FF0|\n|-|-|\n|\u0060help h\u0060|\u5E2E\u52A9|\n|\u0060quit q\u0060|\u9000\u51FA|\n\n# \u67E5\u770B\u7A0B\u5E8F\n\n\u0060list\u0060 \u6216 \u0060l\u0060\uFF1A\u67E5\u770B\u6E90\u4EE3\u7801\u3002\n\n\u0060\u0060\u0060sh\nlist -5 # show line 5\nlist func # show func\n\u0060\u0060\u0060\n\n\u0060disassemble\u0060 \u67E5\u770B\u6C47\u7F16\u7801\u3002\n\n\u0060\u0060\u0060sh\n/m # \u6E90\u7801\u548C\u6C47\u7F16\u4E00\u8D77\u6392\u5217\n/r # \u663E\u793A16\u8FDB\u5236\u4EE3\u7801\n\ndisassemble /m main\n\u0060\u0060\u0060\n\n# \u5E03\u5C40\n\n\u0060layout\u0060 \u547D\u4EE4\u7528\u4E8E\u5206\u5272\u7A97\u53E3\uFF0C\u53EF\u4EE5\u4E00\u8FB9\u67E5\u770B\u4EE3\u7801\uFF0C\u4E00\u8FB9\u6D4B\u8BD5\u3002\n\n- \u0060layout src\u0060 \u663E\u793A\u6E90\u4EE3\u7801\u7A97\u53E3\n- \u0060layout asm\u0060 \u663E\u793A\u6C47\u7F16\u7A97\u53E3\n- \u0060layout regs\u0060 \u663E\u793A\u6E90\u4EE3\u7801/\u6C47\u7F16\u548C\u5BC4\u5B58\u5668\u7A97\u53E3\n- \u0060layout split\u0060 \u663E\u793A\u6E90\u4EE3\u7801\u548C\u6C47\u7F16\u7A97\u53E3\n- \u0060layout next\u0060 \u663E\u793A\u4E0B\u4E00\u4E2Alayout\n- \u0060layout prev\u0060 \u663E\u793A\u4E0A\u4E00\u4E2Alayout\n- \u0060Ctrl \u002B L\u0060 \u5237\u65B0\u7A97\u53E3\n- \u0060Ctrl \u002B x\u0060 \u518D\u63091 \u5355\u7A97\u53E3\u6A21\u5F0F\uFF0C\u663E\u793A\u4E00\u4E2A\u7A97\u53E3\n- \u0060Ctrl \u002B x\u0060 \u518D\u63092 \u53CC\u7A97\u53E3\u6A21\u5F0F\uFF0C\u663E\u793A\u4E24\u4E2A\u7A97\u53E3\n- \u0060Ctrl \u002B x\u0060 \u518D\u6309a \u56DE\u5230\u4F20\u7EDF\u6A21\u5F0F\uFF0C\u5373\u9000\u51FAlayout\uFF0C\u56DE\u5230\u6267\u884Clayout\u4E4B\u524D\u7684\u8C03\u8BD5\u7A97\u53E3\u3002\n\n# \u8FD0\u884C\u7A0B\u5E8F\n\n|\u547D\u4EE4|\u63CF\u8FF0|\n|-|-|\n|\u0060run r\u0060|\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u6587\u4EF6\uFF0C\u53EF\u4EE5\u5E26\u53C2\u6570|\n|\u0060start\u0060|\u5355\u6B65\u6267\u884C\uFF0C\u8FD0\u884C\u7A0B\u5E8F\uFF0C\u505C\u5728\u7B2C\u4E00\u6267\u884C\u8BED\u53E5|\n|\u0060next n\u0060|\u5355\u6B65\u8C03\u8BD5\uFF08\u9010\u8FC7\u7A0B\uFF0C\u51FD\u6570\u76F4\u63A5\u6267\u884C\uFF09|\n|\u0060step s\u0060|\u5355\u6B65\u8C03\u8BD5\uFF08\u9010\u8BED\u53E5\uFF1A\u8DF3\u5165\u81EA\u5B9A\u4E49\u51FD\u6570\u5185\u90E8\u6267\u884C\uFF09|\n|\u0060nexti ni\u0060|\u5355\u6B65\u8C03\u8BD5\uFF08\u9010\u6307\u4EE4\uFF0C\u5373\u6C47\u7F16\u8BED\u53E5\uFF0C\u51FD\u6570\u76F4\u63A5\u6267\u884C\uFF09|\n|\u0060stepi si\u0060|\u5355\u6B65\u8C03\u8BD5\uFF08\u9010\u6307\u4EE4\uFF0C\u5373\u6C47\u7F16\u8BED\u53E5\u8DF3\u5165\u81EA\u5B9A\u4E49\u51FD\u6570\u5185\u90E8\u6267\u884C\uFF09|\n|\u0060continue c\u0060|\u7EE7\u7EED\u8FD0\u884C|\n|\u0060finish\u0060|\u7ED3\u675F\u5F53\u524D\u51FD\u6570\uFF0C\u8FD4\u56DE\u5230\u51FD\u6570\u8C03\u7528\u70B9|\n\n# \u5904\u7406\u8FD0\u884C\u65F6\u4FE1\u606F\n\n## \u67E5\u770B\u53D8\u91CF\n\n\u0060print\u0060 \u6216 \u0060p\u0060 \u7528\u4E8E\u67E5\u770B\u53D8\u91CF\uFF08\u8868\u8FBE\u5F0F\uFF09\uFF0C\u4E5F\u53EF\u4EE5\u67E5\u770B\u5BC4\u5B58\u5668\u7684\u503C\uFF08\u0060$eax $ebx\u0060\uFF09\n\n\u0060info\u0060 \u6216 \u0060i\u0060 \u67E5\u770B\u51FD\u6570\u5185\u90E8\u5C40\u90E8\u53D8\u91CF\u7684\u6570\u503C\u3002\n\n## \u8BBE\u7F6E\u53D8\u91CF\n\n\u0060set\u0060 \u8BBE\u7F6E\u53D8\u91CF\u7684\u503C\u3002\n\n## \u67E5\u770B\u5185\u5B58\n\n\u0060x\u0060 \u547D\u4EE4\u7528\u4E8E\u67E5\u770B\u5185\u5B58\u3002\n\n\u0060\u0060\u0060sh\nx/20xw \u003Caddr\u003E # \u663E\u793A20\u4E2A\u5355\u5143\uFF0C16\u8FDB\u5236\uFF0C4\u5B57\u8282\u6BCF\u5355\u5143\n\u0060\u0060\u0060\n\n\u0060x/i\u0060 \u67E5\u770B\u6307\u4EE4\u3002\u0060$pc\u0060 \u6307\u5411\u5F53\u524D\u7A0B\u5E8F\u8FD0\u884C\u5730\u5740\n\n\u0060\u0060\u0060sh\nx/15i main\n\u0060\u0060\u0060\n\n## \u67E5\u770B\u51FD\u6570\u8C03\u7528\u6808\n\n\u0060backtrace\u0060 \u6216 \u0060bt\u0060 \u67E5\u770B\u51FD\u6570\u7684\u8C03\u7528\u7684\u6808\u5E27\u548C\u5C42\u7EA7\u5173\u7CFB\u3002\n\n## \u5207\u6362\u51FD\u6570\u6808\u5E27\n\n\u0060frame\u0060 \u6216 \u0060f\u0060 \u5207\u6362\u51FD\u6570\u7684\u6808\u5E27\u3002\n\n## \u8FFD\u8E2A\u53D8\u91CF\n\n\u0060display\u0060 \u8FFD\u8E2A\u67E5\u770B\u5177\u4F53\u53D8\u91CF\u503C\u3002\n\u0060undisplay\u0060 \u53D6\u6D88\u8FFD\u8E2A\u89C2\u5BDF\u53D8\u91CF\u3002\n\n## \u76D1\u89C6\u53D8\u91CF\n\n\u0060watch\u0060 \u88AB\u8BBE\u7F6E\u89C2\u5BDF\u70B9\u7684\u53D8\u91CF\uFF08\u8868\u8FBE\u5F0F\uFF09\u53D1\u751F\u4FEE\u6539\u65F6\uFF0C\u6253\u5370\u663E\u793A\u3002\n\u0060info watch\u0060 \u663E\u793A\u89C2\u5BDF\u70B9\n\n# \u65AD\u70B9\n\n## \u8BBE\u7F6E\u65AD\u70B9\n\n\u0060break\u0060 \u6216 \u0060b\u0060 \u8BBE\u7F6E\u65AD\u70B9\u3002\n\n\u0060\u0060\u0060sh\nbreak 10 # at line 10\nbreak *\u003Caddr\u003E # at the instruction at addr\nbreak func # at function\n\u0060\u0060\u0060\n\n\u0060enable breakpoints\u0060 \u542F\u7528\u65AD\u70B9\u3002\n\u0060disable breakpoints\u0060 \u7981\u7528\u65AD\u70B9\u3002\n\n## \u67E5\u770B\u65AD\u70B9\n\n\u0060info breakpoints\u0060 \u67E5\u770B\u5F53\u524D\u8BBE\u7F6E\u7684\u6240\u6709\u65AD\u70B9\n\n## \u5220\u9664\u65AD\u70B9\n\n\u0060delete breakpoints \u003Cnum\u003E\u0060 \u5220\u9664\u7B2Cnum\u4E2A\u65AD\u70B9,\u7B80\u5199 \u0060d\u0060\n\n# \u53C2\u8003\u8D44\u6599\n\n\u6682\u65E0\n"},"Title":"GDB - The GNU Project Debugger","Category":{"Items":["Tools"]},"Keywords":{"Items":[]},"CreationTime":"2018-09-27T18:58:19+08:00","ModificationTime":"2018-09-27T18:58:19+08:00"}